# PenTestDB

**NOTE: This project is in very early development. It is not complete, expect bugs and weird behavior.**

PenTestDB parses the output of various pentesting commands and then stores that data in an SQL database for later reference. The advantage of this is when working in large networks, or with many hosts, it can be easy to loose once way. With this tool the pentester can use SQL queries to sort through all the information they have found about the targets. For Example, which known and scanned hosts have port 80/TCP (HTTP) open? The Pentester can use an SQL query like this: `SELECT host FROM ports WHERE port = '80' AND porotocol = 'TCP';` to answer that question.  PenTestDB supports plug-ins so you can write your own parser for custom commands or scripts, or if there just isn't a parser for a program you use.


## Dependencies: 

- ~~ansi2txt~~
- GNU script
- postgresql
- python3 (if using the built in parsers)

## Running/Testing:
There are two options for running PenTestDB, it can be run in a client-server architecture, or in a stand alone architecture. The advantages of a server client archetexture, are that it is easier to temporarily "pause" parsing of command output by simply killing the server. To use it in a stand alone fashion, you should skip steps 2 and 3 below:

1. Follow the instructions under the [installing](Installing) section below.
2. change the ptdb command to `ptdb client` in `shell/start.sh`.
3. run `ptdb server` in another terminal, tmux session, or from a system service.
4. run hacking commands in another terminal.   

Run commands from a new shell. If everything is installed, and configured correctly you will only see the output of the command. If ptdb outputs anything there was an error. 


## Installing:

from source:
1. Install and configure PostgreSQL.
2. clone this repo.
3. run the install script from this repo's root.
4. source the `shell/start.sh` script from your shells `rc` file. NOTE: this is not currently compatible with `fish`.
5. start the server and hack!

from release:
1. Install and configure PostgreSQL.
2. download the two binaries from the latest release and place them in your path.
3. source the `shell/start.sh` script from your shells `rc` file. NOTE: this is not currently compatible with `fish`.
4. start the server and hack!
