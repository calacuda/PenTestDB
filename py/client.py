import os
import pty
import sys
import argparse


parser = argparse.ArgumentParser()
parser.add_argument('file', nargs=1)
options = parser.parse_args()


with open(options.file[0], 'ab') as script:
    def read(fd):
        data = os.read(fd, 1024)
        script.write(data)
        return data


    pty.spawn("zsh", read)
